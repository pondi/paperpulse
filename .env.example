APP_NAME=PaperPulse
APP_ENV=local
APP_KEY=
APP_DEBUG=true
APP_URL=https://paperpulse.test

LOG_CHANNEL=stack
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=debug

BROADCAST_CONNECTION=log
FILESYSTEM_DISK=local
QUEUE_CONNECTION=redis
CACHE_STORE=redis
SESSION_DRIVER=database

VITE_APP_NAME="${APP_NAME}"

# Database Configuration
DB_CONNECTION=pgsql
DB_HOST=127.0.0.1
DB_PORT=5432
DB_DATABASE=paperpulse
DB_USERNAME=root
DB_PASSWORD=

# Redis Configuration
# IMPORTANT: Always set a strong password in production
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=
REDIS_PORT=6379
REDIS_CLIENT=phpredis

# Mail Configuration
MAIL_MAILER=smtp
MAIL_HOST=127.0.0.1
MAIL_PORT=2525
MAIL_USERNAME=${APP_NAME}
MAIL_PASSWORD=null
MAIL_ENCRYPTION=null
MAIL_FROM_ADDRESS="hello@example.com"
MAIL_FROM_NAME="${APP_NAME}"

# AI Configuration
# Primary provider: 'openai' or 'anthropic'
AI_PROVIDER=openai

# OpenAI Configuration
# Get your API key from https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-...your-openai-api-key
OPENAI_ORGANIZATION=
AI_MODEL_RECEIPT=gpt-3.5-turbo
AI_MODEL_DOCUMENT=gpt-4

# Anthropic Configuration (optional)
ANTHROPIC_API_KEY=sk-ant-...your-anthropic-api-key
AI_MODEL_ANTHROPIC_RECEIPT=claude-3-haiku-20240307
AI_MODEL_ANTHROPIC_DOCUMENT=claude-3-sonnet-20240229

# AWS Textract Configuration
# Use IAM user with minimal Textract permissions only
TEXTRACT_KEY=your-textract-key
TEXTRACT_SECRET=your-textract-secret
TEXTRACT_REGION=eu-central-1
TEXTRACT_BUCKET=your-textract-bucket
TEXTRACT_DISK=textract
TEXTRACT_VERSION=2018-06-27
TEXTRACT_TIMEOUT=120
TEXTRACT_POLLING_INTERVAL=10

# Textract Mode Configuration
TEXTRACT_RECEIPT_MODE=single_page_dense
TEXTRACT_DOCUMENT_MODE=multi_page_layout

# S3 Storage Configuration - Dual Bucket Setup
# IMPORTANT: Both buckets must use S3 storage driver for all features to work
# Incoming bucket: For PulseDav uploads (temporary storage) - used by 'pulsedav' disk
AWS_INCOMING_BUCKET=paperpulse-incoming
# Storage bucket: For permanent file storage - used by 'paperpulse' disk
AWS_BUCKET=paperpulse-storage
# AWS credentials (used for both buckets)
AWS_ACCESS_KEY_ID=your-access-key
AWS_SECRET_ACCESS_KEY=your-secret-key
AWS_DEFAULT_REGION=us-east-1
# Optional: Custom endpoint for S3-compatible services (e.g., DigitalOcean Spaces)
#AWS_URL=https://ams3.digitaloceanspaces.com
#AWS_ENDPOINT=https://ams3.digitaloceanspaces.com
#AWS_USE_PATH_STYLE_ENDPOINT=false


# Search Configuration
SCOUT_DRIVER=meilisearch
MEILISEARCH_HOST=http://127.0.0.1:7700
# Generate a master key: openssl rand -base64 32
MEILISEARCH_KEY=your-meilisearch-master-key
MEILISEARCH_NO_ANALYTICS=false
MEILISEARCH_ENV=development

# PulseDav Integration
PULSEDAV_AUTH_ENABLED=true
AWS_S3_INCOMING_PREFIX=incoming/
DEFAULT_PULSEDAV_TYPE=receipt

# Document Processing Configuration
MAX_DOCUMENT_SIZE=50
MAX_RECEIPT_SIZE=10
SUPPORTED_DOCUMENT_FORMATS="doc,docx,xls,xlsx,ppt,pptx,odt,ods,odp,pdf,rtf"
SUPPORTED_RECEIPT_FORMATS="jpg,jpeg,png,gif,bmp,pdf"

# Horizon Configuration
HORIZON_PREFIX=horizon:
HORIZON_DOMAIN=
HORIZON_PATH=horizon

# Job Processing
JOB_TIMEOUT=3600
JOB_RETRIES=5
JOB_BACKOFF=10

# Rate Limiting Configuration
RATE_LIMIT_FILE_UPLOADS=10
RATE_LIMIT_PULSEDAV_AUTH=10
RATE_LIMIT_API_REQUESTS=60
RATE_LIMIT_EXPORT_REQUESTS=10

# AI Service Options
AI_MAX_RETRIES=3
AI_RETRY_DELAY=1000
AI_TIMEOUT=60
AI_MAX_TOKENS_RECEIPT=1024
AI_MAX_TOKENS_DOCUMENT=2048
AI_MAX_TOKENS_SUMMARY=200
AI_TEMPERATURE_RECEIPT=0.1
AI_TEMPERATURE_DOCUMENT=0.2
AI_TEMPERATURE_CREATIVE=0.7
AI_FALLBACK_PROVIDERS=anthropic,openai

# AI Feature Flags
AI_AUTO_CATEGORIZATION=true
AI_AUTO_TAGGING=true
AI_ENTITY_EXTRACTION=true
AI_SUMMARY_GENERATION=true
AI_MERCHANT_MATCHING=true

# Receipt Scanner Configuration
USE_FORGIVING_NUMBER_PARSER=true