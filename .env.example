APP_NAME=PaperPulse
APP_ENV=local
APP_KEY=
APP_DEBUG=true
APP_URL=http://localhost

LOG_CHANNEL=stack
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=debug

BROADCAST_CONNECTION=log
FILESYSTEM_DISK=local
QUEUE_CONNECTION=redis
CACHE_STORE=redis
SESSION_DRIVER=database

VITE_APP_NAME="${APP_NAME}"

# The following configurations need to be modified for your environment
# Database Configuration
DB_CONNECTION=pgsql
DB_HOST=127.0.0.1
DB_PORT=5432
DB_DATABASE=paperpulse
DB_USERNAME=root
DB_PASSWORD=

# Mail Configuration
MAIL_MAILER=smtp
MAIL_HOST=127.0.0.1
MAIL_PORT=2525
MAIL_USERNAME=${APP_NAME}
MAIL_PASSWORD=null
MAIL_ENCRYPTION=null
MAIL_FROM_ADDRESS="hello@example.com"
MAIL_FROM_NAME="${APP_NAME}"

# AI Configuration
# Get your API key from https://platform.openai.com/api-keys
# IMPORTANT: Keep this secret and rotate every 90 days
OPENAI_API_KEY=sk-...your-openai-api-key
ANTHROPIC_API_KEY=sk-ant-...your-anthropic-api-key
AI_PROVIDER=openai
AI_MODEL_RECEIPT=gpt-3.5-turbo
AI_MODEL_DOCUMENT=gpt-4
AI_MODEL_ANTHROPIC_RECEIPT=claude-3-haiku-20240307
AI_MODEL_ANTHROPIC_DOCUMENT=claude-3-sonnet-20240229

# AWS Textract Configuration
# Use IAM user with minimal Textract permissions only
# See THIRD_PARTY_SECURITY_GUIDE.md for IAM policy
TEXTRACT_KEY=your-textract-key
TEXTRACT_SECRET=your-textract-secret
TEXTRACT_REGION=eu-central-1
TEXTRACT_BUCKET=your-textract-bucket
TEXTRACT_DISK=textract

# S3 Storage Configuration - Dual Bucket Setup
# Incoming bucket: For PulseDav uploads (temporary storage)
AWS_INCOMING_BUCKET=paperpulse-incoming
# Storage bucket: For permanent file storage
AWS_STORAGE_BUCKET=paperpulse-storage
# AWS credentials (used for both buckets)
AWS_ACCESS_KEY_ID=your-access-key
AWS_SECRET_ACCESS_KEY=your-secret-key
AWS_DEFAULT_REGION=us-east-1
# Optional: Custom endpoint for S3-compatible services
#AWS_ENDPOINT=
#AWS_USE_PATH_STYLE_ENDPOINT=false

# Redis Configuration
# IMPORTANT: Always set a strong password in production
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=your-strong-redis-password-here
REDIS_PORT=6379

# Search Configuration
SCOUT_DRIVER=meilisearch
MEILISEARCH_HOST=http://127.0.0.1:7700
# Generate a master key: openssl rand -base64 32
# Use this key to generate search-only keys for frontend
MEILISEARCH_KEY=your-meilisearch-master-key
MEILISEARCH_NO_ANALYTICS=false
MEILISEARCH_ENV=development

# PulseDav Integration
PULSEDAV_AUTH_ENABLED=true
AWS_S3_INCOMING_PREFIX=incoming/
DEFAULT_PULSEDAV_TYPE=receipt

# Document Processing Configuration
MAX_DOCUMENT_SIZE=50
MAX_RECEIPT_SIZE=10
SUPPORTED_DOCUMENT_FORMATS="doc,docx,xls,xlsx,ppt,pptx,odt,ods,odp,pdf,rtf"
SUPPORTED_RECEIPT_FORMATS="jpg,jpeg,png,gif,bmp,pdf"

# Textract Mode Configuration
TEXTRACT_RECEIPT_MODE=single_page_dense
TEXTRACT_DOCUMENT_MODE=multi_page_layout

# Horizon Configuration
HORIZON_PREFIX=horizon:

# Rate Limiting Configuration
RATE_LIMIT_FILE_UPLOADS=10
RATE_LIMIT_PULSEDAV_AUTH=10
RATE_LIMIT_API_REQUESTS=60
RATE_LIMIT_EXPORT_REQUESTS=10

# Job Processing
JOB_TIMEOUT=3600
JOB_RETRIES=5
JOB_BACKOFF=10

# Document Processing
MAX_DOCUMENT_SIZE=50
MAX_RECEIPT_SIZE=10
SUPPORTED_DOCUMENT_FORMATS=doc,docx,xls,xlsx,ppt,pptx,odt,ods,odp,pdf,rtf
SUPPORTED_RECEIPT_FORMATS=jpg,jpeg,png,gif,bmp,pdf

# Textract Configuration Modes
TEXTRACT_RECEIPT_MODE=single_page_dense
TEXTRACT_DOCUMENT_MODE=multi_page_layout

# Dual S3 Bucket Configuration
AWS_INCOMING_BUCKET=your-incoming-bucket
AWS_STORAGE_BUCKET=your-storage-bucket
AWS_ACCESS_KEY_ID=your-aws-key
AWS_SECRET_ACCESS_KEY=your-aws-secret
AWS_DEFAULT_REGION=eu-central-1
