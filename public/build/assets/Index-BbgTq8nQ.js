import{d as c,a as u,b as e,r as k,j as o,w as i,p as C,u as a,t,m as j,G as O,l as $,g as we,F as V,e as q,v as ke,h as I,Q as Ce,q as le,o as $e,K as je,Z as ze,f as Se,i as Ee}from"./app-ifJRh6KD.js";import{a as ie,g as de,c as ce,M as ue,d as L,e as me,Y as R,G as T,V as F,S as Z,h as De,_ as Me}from"./AuthenticatedLayout-BSqnk0kP.js";import{r as ge}from"./CheckCircleIcon-YUPfUU4_.js";import{r as Ve}from"./TrashIcon-BRJAYM6p.js";import{r as xe}from"./ExclamationTriangleIcon-DITLAt3A.js";import{r as Ae}from"./ExclamationCircleIcon-DRwAuq-f.js";import"./ApplicationLogo-MxaaLDVg.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";function Be(m,w){return u(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})])}function Ne(m,w){return u(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})])}function Ie(m,w){return u(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})])}function Le(m,w){return u(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m9 14.25 6-6m4.5-3.493V21.75l-3.75-1.5-3.75 1.5-3.75-1.5-3.75 1.5V4.757c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0c1.1.128 1.907 1.077 1.907 2.185ZM9.75 9h.008v.008H9.75V9Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm4.125 4.5h.008v.008h-.008V13.5Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})])}function Ze(m,w){return u(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M8.22 5.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})])}function Oe(m,w){return u(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{d:"M10 3a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM10 8.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM11.5 15.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0Z"})])}const qe={key:0,class:"fixed bottom-0 inset-x-0 pb-2 sm:pb-5"},Re={class:"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8"},Te={class:"p-2 rounded-lg bg-indigo-600 shadow-lg sm:p-3"},Fe={class:"flex items-center justify-between flex-wrap"},Ue={class:"w-0 flex-1 flex items-center"},Ge={class:"flex p-2 rounded-lg bg-indigo-800"},He={class:"ml-3 font-medium text-white truncate"},Ke={class:"md:hidden"},Pe={class:"hidden md:inline"},Ye={class:"order-3 mt-2 flex-shrink-0 w-full sm:order-2 sm:mt-0 sm:w-auto"},We={class:"flex space-x-2"},Qe={class:"py-1"},Je={class:"order-2 flex-shrink-0 sm:order-3 sm:ml-2"},Xe={class:"fixed inset-0 z-10 overflow-y-auto"},et={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},tt={class:"sm:flex sm:items-start"},st={class:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},ot={class:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left"},at={class:"mt-2"},nt={class:"text-sm text-gray-500"},rt={class:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse"},lt={class:"fixed inset-0 z-10 overflow-y-auto"},it={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},dt={class:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-green-100"},ct={class:"mt-3 text-center sm:mt-5"},ut={class:"mt-2"},mt={class:"mt-4"},gt={key:0,label:"Your Categories"},xt=["value"],ft={class:"mt-5 sm:mt-6 sm:grid sm:grid-flow-row-dense sm:grid-cols-2 sm:gap-3"},pt=["disabled"],yt={__name:"BulkOperations",props:{selectedCount:{type:Number,required:!0},selectedIds:{type:Array,required:!0},categories:{type:Array,default:()=>[]}},emits:["clear-selection"],setup(m,{emit:w}){const n=m,S=w,p=k(!1),d=k(!1),f=k(""),E=()=>{I.post(route("bulk.receipts.delete"),{receipt_ids:n.selectedIds},{onSuccess:()=>{p.value=!1,S("clear-selection")}})},y=()=>{if(!f.value)return;const b={receipt_ids:n.selectedIds};isNaN(f.value)?b.category=f.value:b.category_id=f.value,I.post(route("bulk.receipts.categorize"),b,{onSuccess:()=>{d.value=!1,f.value="",S("clear-selection")}})},B=b=>{var D;const s=document.createElement("form");s.method="POST",s.action=route(`bulk.receipts.export.${b}`);const g=(D=document.querySelector('meta[name="csrf-token"]'))==null?void 0:D.getAttribute("content");if(g){const _=document.createElement("input");_.type="hidden",_.name="_token",_.value=g,s.appendChild(_)}n.selectedIds.forEach(_=>{const M=document.createElement("input");M.type="hidden",M.name="receipt_ids[]",M.value=_,s.appendChild(M)}),document.body.appendChild(s),s.submit(),document.body.removeChild(s)};return(b,s)=>(u(),c(V,null,[o(O,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:i(()=>[m.selectedCount>0?(u(),c("div",qe,[e("div",Re,[e("div",Te,[e("div",Fe,[e("div",Ue,[e("span",Ge,[o(a(ge),{class:"h-6 w-6 text-white","aria-hidden":"true"})]),e("p",He,[e("span",Ke,t(m.selectedCount)+" selected",1),e("span",Pe,t(m.selectedCount)+" "+t(m.selectedCount===1?"receipt":"receipts")+" selected",1)])]),e("div",Ye,[e("div",We,[e("button",{onClick:s[0]||(s[0]=g=>d.value=!0),type:"button",class:"flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-indigo-600 bg-white hover:bg-indigo-50"},[o(a(ie),{class:"-ml-1 mr-2 h-4 w-4","aria-hidden":"true"}),s[10]||(s[10]=j(" Categorize "))]),o(a(de),{as:"div",class:"relative inline-block text-left"},{default:i(()=>[o(a(ce),{class:"flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-indigo-600 bg-white hover:bg-indigo-50"},{default:i(()=>[o(a(Be),{class:"-ml-1 mr-2 h-4 w-4","aria-hidden":"true"}),s[11]||(s[11]=j(" Export ")),o(a(Ie),{class:"ml-2 -mr-1 h-4 w-4","aria-hidden":"true"})]),_:1}),o(O,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:i(()=>[o(a(ue),{class:"absolute bottom-full mb-2 right-0 w-48 origin-bottom-right rounded-md bg-white shadow-lg ring-1 ring-black/5 focus:outline-none"},{default:i(()=>[e("div",Qe,[o(a(L),null,{default:i(({active:g})=>[e("button",{onClick:s[1]||(s[1]=D=>B("csv")),class:$([g?"bg-gray-100 text-gray-900":"text-gray-700","block w-full text-left px-4 py-2 text-sm"])}," Export as CSV ",2)]),_:1}),o(a(L),null,{default:i(({active:g})=>[e("button",{onClick:s[2]||(s[2]=D=>B("pdf")),class:$([g?"bg-gray-100 text-gray-900":"text-gray-700","block w-full text-left px-4 py-2 text-sm"])}," Export as PDF ",2)]),_:1})])]),_:1})]),_:1})]),_:1}),e("button",{onClick:s[3]||(s[3]=g=>p.value=!0),type:"button",class:"flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700"},[o(a(Ve),{class:"-ml-1 mr-2 h-4 w-4","aria-hidden":"true"}),s[12]||(s[12]=j(" Delete "))])])]),e("div",Je,[e("button",{onClick:s[4]||(s[4]=g=>b.$emit("clear-selection")),type:"button",class:"-mr-1 flex p-2 rounded-md hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-white"},[s[13]||(s[13]=e("span",{class:"sr-only"},"Clear selection",-1)),o(a(me),{class:"h-6 w-6 text-white","aria-hidden":"true"})])])])])])])):C("",!0)]),_:1}),o(a(Z),{as:"template",show:p.value},{default:i(()=>[o(a(R),{as:"div",class:"relative z-50",onClose:s[6]||(s[6]=g=>p.value=!1)},{default:i(()=>[s[14]||(s[14]=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)),e("div",Xe,[e("div",et,[o(a(T),{class:"relative transform overflow-hidden rounded-lg bg-white dark:bg-gray-800 px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6"},{default:i(()=>[e("div",tt,[e("div",st,[o(a(xe),{class:"h-6 w-6 text-red-600","aria-hidden":"true"})]),e("div",ot,[o(a(F),{as:"h3",class:"text-base font-semibold leading-6 text-gray-900 dark:text-gray-100"},{default:i(()=>[j(" Delete "+t(m.selectedCount)+" "+t(m.selectedCount===1?"receipt":"receipts"),1)]),_:1}),e("div",at,[e("p",nt," Are you sure you want to delete "+t(m.selectedCount)+" "+t(m.selectedCount===1?"receipt":"receipts")+"? This action cannot be undone. ",1)])])]),e("div",rt,[e("button",{type:"button",class:"inline-flex w-full justify-center rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500 sm:ml-3 sm:w-auto",onClick:E}," Delete "),e("button",{type:"button",class:"mt-3 inline-flex w-full justify-center rounded-md bg-white dark:bg-gray-800 px-3 py-2 text-sm font-semibold text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 sm:mt-0 sm:w-auto",onClick:s[5]||(s[5]=g=>p.value=!1)}," Cancel ")])]),_:1})])])]),_:1})]),_:1},8,["show"]),o(a(Z),{as:"template",show:d.value},{default:i(()=>[o(a(R),{as:"div",class:"relative z-50",onClose:s[9]||(s[9]=g=>d.value=!1)},{default:i(()=>[s[18]||(s[18]=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)),e("div",lt,[e("div",it,[o(a(T),{class:"relative transform overflow-hidden rounded-lg bg-white dark:bg-gray-800 px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6"},{default:i(()=>[e("div",null,[e("div",dt,[o(a(ie),{class:"h-6 w-6 text-green-600","aria-hidden":"true"})]),e("div",ct,[o(a(F),{as:"h3",class:"text-base font-semibold leading-6 text-gray-900 dark:text-gray-100"},{default:i(()=>[j(" Categorize "+t(m.selectedCount)+" "+t(m.selectedCount===1?"receipt":"receipts"),1)]),_:1}),e("div",ut,[s[17]||(s[17]=e("p",{class:"text-sm text-gray-500"}," Select a category to apply to all selected receipts. ",-1)),e("div",mt,[we(e("select",{"onUpdate:modelValue":s[7]||(s[7]=g=>f.value=g),class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[s[15]||(s[15]=e("option",{value:""},"Select a category",-1)),m.categories.length>0?(u(),c("optgroup",gt,[(u(!0),c(V,null,q(m.categories,g=>(u(),c("option",{key:g.id,value:g.id},t(g.name),9,xt))),128))])):C("",!0),s[16]||(s[16]=e("optgroup",{label:"Default Categories"},[e("option",{value:"food"},"Food"),e("option",{value:"transport"},"Transport"),e("option",{value:"shopping"},"Shopping"),e("option",{value:"entertainment"},"Entertainment"),e("option",{value:"utilities"},"Utilities"),e("option",{value:"healthcare"},"Healthcare"),e("option",{value:"other"},"Other")],-1))],512),[[ke,f.value]])])])])]),e("div",ft,[e("button",{type:"button",disabled:!f.value,class:"inline-flex w-full justify-center rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 sm:col-start-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:y}," Apply Category ",8,pt),e("button",{type:"button",class:"mt-3 inline-flex w-full justify-center rounded-md bg-white dark:bg-gray-800 px-3 py-2 text-sm font-semibold text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 sm:col-start-1 sm:mt-0",onClick:s[8]||(s[8]=g=>d.value=!1)}," Cancel ")])]),_:1})])])]),_:1})]),_:1},8,["show"])],64))}},ht={class:"flex items-center justify-between"},vt={class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},bt={key:0,class:"flex items-center space-x-4"},_t={class:"flex items-center text-sm text-gray-600 dark:text-gray-400"},wt=["checked"],kt={class:"py-12"},Ct={class:"transition-all duration-500 ease-in-out"},$t={key:0,class:"mb-8 rounded-md bg-green-50 p-4"},jt={class:"flex"},zt={class:"flex-shrink-0"},St={class:"ml-3"},Et={class:"text-sm font-medium text-green-800"},Dt={key:1,role:"list",class:"divide-y divide-gray-100 dark:divide-gray-800"},Mt={class:"flex-shrink-0"},Vt=["value","checked","onChange"],At={class:"min-w-0 flex-auto"},Bt={class:"flex items-center gap-x-3"},Nt={class:"min-w-0 text-sm font-semibold text-gray-900 dark:text-gray-100"},It=["onClick"],Lt={class:"truncate"},Zt={class:"whitespace-nowrap"},Ot={class:"mt-3 flex items-center gap-x-2.5 text-xs text-gray-500 dark:text-gray-400"},qt={class:"truncate"},Rt={class:"whitespace-nowrap"},Tt={key:2,class:"bg-gray-900 px-6 py-24 sm:py-32 lg:px-8"},Ft={class:"mx-auto max-w-2xl text-center"},Ut={class:"text-base font-semibold text-indigo-600"},Gt={class:"text-4xl font-bold tracking-tight text-white sm:text-6xl"},Ht={class:"mt-6 text-lg leading-8 text-gray-300"},Kt={class:"mt-10 flex items-center justify-center gap-x-6"},Pt={class:"fixed right-0 flex max-w-full z-10",style:{top:"65px",bottom:"0"}},Yt={class:"flex h-full flex-col overflow-y-scroll"},Wt={class:"sticky top-0 z-10 bg-white dark:bg-gray-800 px-4 py-6 sm:px-6 border-b border-gray-200 dark:border-gray-700"},Qt={class:"flex items-start justify-between"},Jt={class:"text-base font-semibold text-gray-900 dark:text-gray-100"},Xt={class:"ml-3 flex h-7 items-center"},es={class:"sr-only"},ts={class:"relative flex-1 px-4 sm:px-6"},ss={class:"pb-1 sm:pb-6"},os={class:"relative h-[600px] overflow-y-auto"},as={class:"flex justify-center bg-white"},ns={class:"w-[400px]"},rs=["src","alt"],ls={key:0,class:"flex flex-col items-center justify-center h-[600px] bg-white border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-lg"},is={class:"text-sm text-gray-500 dark:text-gray-400"},ds={key:1,class:"flex flex-col items-center justify-center h-[600px] bg-white border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-lg"},cs={class:"text-sm text-gray-500 dark:text-gray-400"},us={class:"mt-6 px-4 sm:mt-8 sm:flex sm:items-end sm:px-6"},ms={class:"sm:flex-1"},gs={class:"flex items-center"},xs={class:"text-xl font-bold text-gray-900 dark:text-gray-100 sm:text-2xl"},fs={class:"text-sm text-gray-500"},ps={class:"mt-5 flex flex-wrap space-y-3 sm:space-x-3 sm:space-y-0"},ys={type:"button",class:"inline-flex w-full flex-1 items-center justify-center rounded-md bg-white dark:bg-gray-800 px-3 py-2 text-sm font-semibold text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"},hs={class:"sr-only"},vs={class:"py-1"},bs={class:"px-4 pb-5 pt-5 sm:px-0 sm:pt-0"},_s={class:"space-y-8 px-4 sm:space-y-6 sm:px-6"},ws={class:"text-sm font-medium text-gray-500 sm:w-40 sm:shrink-0"},ks={class:"mt-1 text-sm text-gray-900 dark:text-gray-100 sm:col-span-2"},Cs={class:"text-sm font-medium text-gray-500 sm:w-40 sm:shrink-0"},$s={class:"mt-1 text-sm text-gray-900 dark:text-gray-100 sm:col-span-2"},js={class:"text-sm font-medium text-gray-500 sm:w-40 sm:shrink-0"},zs={class:"mt-1 text-sm text-gray-900 dark:text-gray-100 sm:col-span-2"},Ss={key:0,class:"mt-8 px-4 sm:px-6"},Es={class:"text-sm font-medium text-gray-500"},Ds={class:"mt-4"},Ms={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Vs={class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900 dark:text-gray-100"},As={class:"px-3 py-3.5 text-right text-sm font-semibold text-gray-900 dark:text-gray-100"},Bs={class:"px-3 py-3.5 text-right text-sm font-semibold text-gray-900 dark:text-gray-100"},Ns={class:"divide-y divide-gray-200 dark:divide-gray-700"},Is={class:"whitespace-nowrap py-4 pl-3 pr-4 text-sm text-gray-500 dark:text-gray-400"},Ls={key:0,class:"text-gray-400"},Zs={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-500 dark:text-gray-400 text-right"},Os={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-500 dark:text-gray-400 text-right"},qs={colspan:"2",class:"px-3 py-3.5 text-right text-sm font-semibold text-gray-900 dark:text-gray-100"},Rs={class:"px-3 py-3.5 text-right text-sm font-semibold text-gray-900 dark:text-gray-100"},Ts={class:"fixed inset-0 z-10 overflow-y-auto"},Fs={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},Us={class:"sm:flex sm:items-start"},Gs={class:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},Hs={class:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left"},Ks={class:"mt-2"},Ps={class:"text-sm text-gray-500"},Ys={class:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse"},ao={__name:"Index",props:{receipts:{type:Array,required:!0},categories:{type:Array,default:()=>[]}},setup(m){const w=Ce(),n=l=>{var z;const r=((z=w.props.language)==null?void 0:z.messages)||{},x=l.split(".");let h=r;for(const N of x)if(h=h==null?void 0:h[N],h===void 0)break;return h||l.split(".").pop()},S=m,p=k(!1),d=k(null),f=k(!1),E=k(!1),y=k([]),B=k(null),b=le(()=>({paddingLeft:"1.5rem",paddingRight:p.value?window.innerWidth<640?"0":"608px":"1.5rem",maxWidth:"100vw",transition:"padding-right 500ms ease-in-out"})),s=le(()=>S.receipts.length>0&&y.value.length===S.receipts.length),g=()=>{p.value&&b.value},D=async l=>{d.value=l,E.value=!1,p.value=!0},_=()=>{p.value=!1,setTimeout(()=>{d.value=null,f.value=!1},500)},M=()=>{d.value&&I.delete(route("receipts.destroy",d.value.id),{onSuccess:()=>{_()}})},fe=l=>{const r=y.value.indexOf(l);r===-1?y.value.push(l):y.value.splice(r,1)},pe=()=>{s.value?y.value=[]:y.value=S.receipts.map(l=>l.id)},ye=()=>{y.value=[]},U=l=>l!=null&&l.merchant_id?(l==null?void 0:l.total_amount)===null?"text-rose-400 bg-rose-400/10":"text-green-400 bg-green-400/10":"text-gray-500 bg-gray-100/10",he=l=>{const r={mat:"text-green-400 bg-green-400/10 ring-green-400/30",transport:"text-blue-400 bg-blue-400/10 ring-blue-400/30",default:"text-gray-400 bg-gray-400/10 ring-gray-400/20"};return r[l]||r.default},G=l=>l?new Date(l).toLocaleDateString("nb-NO",{year:"numeric",month:"long",day:"numeric"}):n("no_date"),A=(l,r)=>l?new Intl.NumberFormat("nb-NO",{style:"currency",currency:r||"NOK"}).format(l):"0,00",ve=l=>{window.open(l,"_blank","noopener,noreferrer")},be=()=>{E.value=!0},H=l=>{l.key==="Escape"&&p.value&&_()};return $e(()=>{document.addEventListener("keydown",H),window.addEventListener("resize",g)}),je(()=>{document.removeEventListener("keydown",H),window.removeEventListener("resize",g)}),(l,r)=>(u(),c(V,null,[o(a(ze),{title:n("receipts")},null,8,["title"]),o(Me,null,{header:i(()=>[e("div",ht,[e("h2",vt,t(n("receipts")),1),m.receipts.length>0?(u(),c("div",bt,[e("label",_t,[e("input",{type:"checkbox",class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500",checked:s.value,onChange:pe},null,40,wt),r[5]||(r[5]=e("span",{class:"ml-2"},"Select All",-1))])])):C("",!0)])]),default:i(()=>[e("div",kt,[e("div",{class:"max-w-7xl mx-auto transition-all duration-500 ease-in-out",style:Se(b.value)},[e("div",Ct,[l.$page.props.flash.success?(u(),c("div",$t,[e("div",jt,[e("div",zt,[o(a(ge),{class:"h-5 w-5 text-green-400","aria-hidden":"true"})]),e("div",St,[e("p",Et,t(l.$page.props.flash.success),1)])])])):C("",!0),m.receipts.length>0?(u(),c("ul",Dt,[(u(!0),c(V,null,q(m.receipts,x=>{var h;return u(),c("li",{key:x.id,class:"relative flex items-center space-x-4 py-4"},[e("div",Mt,[e("input",{type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500",value:x.id,checked:y.value.includes(x.id),onChange:z=>fe(x.id)},null,40,Vt)]),e("div",At,[e("div",Bt,[e("div",{class:$([U(x),"flex-none rounded-full p-1"])},r[6]||(r[6]=[e("div",{class:"size-2 rounded-full bg-current"},null,-1)]),2),e("h2",Nt,[e("button",{onClick:z=>D(x),class:"flex gap-x-2"},[e("span",Lt,t(((h=x.merchant)==null?void 0:h.name)||n("unknown_merchant")),1),r[7]||(r[7]=e("span",{class:"text-gray-400"},"/",-1)),e("span",Zt,t(A(x.total_amount,x.currency)),1),r[8]||(r[8]=e("span",{class:"absolute inset-0"},null,-1))],8,It)])]),e("div",Ot,[e("p",qt,t(x.receipt_description||n("no_description")),1),r[9]||(r[9]=e("svg",{viewBox:"0 0 2 2",class:"size-0.5 flex-none fill-gray-300"},[e("circle",{cx:"1",cy:"1",r:"1"})],-1)),e("p",Rt,t(G(x.receipt_date)),1)])]),e("div",{class:$([he(x.receipt_category),"flex-none rounded-full px-2 py-1 text-xs font-medium ring-1 ring-inset"])},t(x.receipt_category||n("uncategorized")),3),o(a(Ze),{class:"size-5 flex-none text-gray-400","aria-hidden":"true"})])}),128))])):(u(),c("div",Tt,[e("div",Ft,[e("p",Ut,t(n("no_receipts_found")),1),e("h2",Gt,t(n("upload_first_receipts")),1),e("p",Ht,t(n("no_receipts_description")),1),e("div",Kt,[o(a(Ee),{href:l.route("documents.upload"),class:"rounded-md bg-indigo-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},{default:i(()=>[j(t(n("upload_receipts")),1)]),_:1},8,["href"])])])]))])],4)]),o(yt,{"selected-count":y.value.length,"selected-ids":y.value,categories:m.categories,onClearSelection:ye},null,8,["selected-count","selected-ids","categories"]),o(a(Z),{as:"template",show:p.value},{default:i(()=>[e("div",Pt,[o(a(De),{as:"template",enter:"transform transition ease-in-out duration-500","enter-from":"translate-x-full","enter-to":"translate-x-0",leave:"transform transition ease-in-out duration-500","leave-from":"translate-x-0","leave-to":"translate-x-full"},{default:i(()=>{var x,h,z,N,K,P,Y,W,Q,J,X,ee,te,se,oe,ae,ne;return[e("div",{ref_key:"drawerRef",ref:B,class:"w-screen sm:w-[500px] bg-white dark:bg-gray-800 shadow-xl border-l border-gray-200 dark:border-gray-700 h-full"},[e("div",Yt,[e("div",Wt,[e("div",Qt,[e("h2",Jt,t(((h=(x=d.value)==null?void 0:x.merchant)==null?void 0:h.name)||n("unknown_merchant")),1),e("div",Xt,[e("button",{type:"button",class:"relative rounded-md bg-white dark:bg-gray-800 text-gray-400 hover:text-gray-500 focus:ring-2 focus:ring-indigo-500",onClick:_},[r[10]||(r[10]=e("span",{class:"absolute -inset-2.5"},null,-1)),e("span",es,t(n("close")),1),o(a(me),{class:"size-6","aria-hidden":"true"})])])])]),e("div",ts,[e("div",null,[e("div",ss,[e("div",null,[e("div",os,[e("div",as,[e("div",ns,[(N=(z=d.value)==null?void 0:z.file)!=null&&N.url?(u(),c(V,{key:0},[e("img",{src:d.value.file.url,class:$(["w-full h-auto",{hidden:E.value}]),alt:n("receipt_image"),onError:be},null,42,rs),E.value?(u(),c("div",ls,[o(a(Ae),{class:"size-16 text-red-400 mb-4"}),e("span",is,t(n("receipt_image_load_error")),1)])):C("",!0)],64)):(u(),c("div",ds,[o(a(Le),{class:"size-16 text-gray-400 mb-4"}),e("span",cs,t(n("no_receipt_image")),1)]))])])]),e("div",us,[e("div",ms,[e("div",null,[e("div",gs,[e("h3",xs,t(A((K=d.value)==null?void 0:K.total_amount,(P=d.value)==null?void 0:P.currency)),1),e("span",{class:$([U(d.value),"ml-2.5 inline-block size-2 shrink-0 rounded-full"])},r[11]||(r[11]=[e("span",{class:"sr-only"},"Status",-1)]),2)]),e("p",fs,t(G((Y=d.value)==null?void 0:Y.receipt_date)),1)]),e("div",ps,[(Q=(W=d.value)==null?void 0:W.file)!=null&&Q.pdfUrl?(u(),c("button",{key:0,onClick:r[0]||(r[0]=v=>ve(d.value.file.pdfUrl)),type:"button",class:"inline-flex w-full flex-1 items-center justify-center gap-x-2 rounded-md bg-indigo-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},[e("span",null,t(n("view_pdf")),1),o(a(Ne),{class:"size-4","aria-hidden":"true"})])):C("",!0),e("button",ys,t(n("share")),1),o(a(de),{as:"div",class:"relative inline-block text-left"},{default:i(()=>[o(a(ce),{class:"relative inline-flex items-center rounded-md bg-white dark:bg-gray-800 p-2 text-gray-400 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"},{default:i(()=>[r[12]||(r[12]=e("span",{class:"absolute -inset-1"},null,-1)),e("span",hs,t(n("open_options")),1),o(a(Oe),{class:"size-5","aria-hidden":"true"})]),_:1}),o(O,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:i(()=>[o(a(ue),{class:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white dark:bg-gray-800 shadow-lg ring-1 ring-black/5 focus:outline-none"},{default:i(()=>[e("div",vs,[o(a(L),null,{default:i(({active:v})=>[e("button",{onClick:r[1]||(r[1]=_e=>{var re;return a(I).visit(l.route("receipts.show",(re=d.value)==null?void 0:re.id))}),class:$([v?"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100":"text-gray-700 dark:text-gray-300","block w-full text-left px-4 py-2 text-sm"])},t(n("edit")),3)]),_:1}),o(a(L),null,{default:i(({active:v})=>[e("button",{onClick:r[2]||(r[2]=_e=>f.value=!0),class:$([v?"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100":"text-gray-700 dark:text-gray-300","block w-full text-left px-4 py-2 text-sm"])},t(n("delete")),3)]),_:1})])]),_:1})]),_:1})]),_:1})])])])]),e("div",bs,[e("dl",_s,[e("div",null,[e("dt",ws,t(n("category")),1),e("dd",ks,t(((J=d.value)==null?void 0:J.receipt_category)||n("uncategorized")),1)]),e("div",null,[e("dt",Cs,t(n("tax_amount")),1),e("dd",$s,t(A((X=d.value)==null?void 0:X.tax_amount,(ee=d.value)==null?void 0:ee.currency)),1)]),e("div",null,[e("dt",js,t(n("description")),1),e("dd",zs,t(((te=d.value)==null?void 0:te.receipt_description)||n("no_description")),1)])]),((oe=(se=d.value)==null?void 0:se.lineItems)==null?void 0:oe.length)>0?(u(),c("div",Ss,[e("h3",Es,t(n("line_items")),1),e("div",Ds,[e("table",Ms,[e("thead",null,[e("tr",null,[e("th",Vs,t(n("description")),1),e("th",As,t(n("quantity")),1),e("th",Bs,t(n("unit_price")),1)])]),e("tbody",Ns,[(u(!0),c(V,null,q(d.value.lineItems,v=>(u(),c("tr",{key:v.id},[e("td",Is,[j(t(v.description)+" ",1),v.sku?(u(),c("span",Ls,"("+t(v.sku)+")",1)):C("",!0)]),e("td",Zs,t(v.quantity),1),e("td",Os,t(A(v.unit_price,d.value.currency)),1)]))),128))]),e("tfoot",null,[e("tr",null,[e("th",qs,t(n("total")),1),e("th",Rs,t(A((ae=d.value)==null?void 0:ae.total_amount,(ne=d.value)==null?void 0:ne.currency)),1)])])])])])):C("",!0)])])])])])],512)]}),_:1})])]),_:1},8,["show"]),o(a(Z),{as:"template",show:f.value},{default:i(()=>[o(a(R),{as:"div",class:"relative z-50",onClose:r[4]||(r[4]=x=>f.value=!1)},{default:i(()=>[r[13]||(r[13]=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)),e("div",Ts,[e("div",Fs,[o(a(T),{class:"relative transform overflow-hidden rounded-lg bg-white dark:bg-gray-800 px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6"},{default:i(()=>[e("div",Us,[e("div",Gs,[o(a(xe),{class:"h-6 w-6 text-red-600","aria-hidden":"true"})]),e("div",Hs,[o(a(F),{as:"h3",class:"text-base font-semibold leading-6 text-gray-900 dark:text-gray-100"},{default:i(()=>[j(t(n("delete_receipt")),1)]),_:1}),e("div",Ks,[e("p",Ps,t(n("delete_receipt_confirm")),1)])])]),e("div",Ys,[e("button",{type:"button",class:"inline-flex w-full justify-center rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500 sm:ml-3 sm:w-auto",onClick:M},t(n("delete")),1),e("button",{type:"button",class:"mt-3 inline-flex w-full justify-center rounded-md bg-white dark:bg-gray-800 px-3 py-2 text-sm font-semibold text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 sm:mt-0 sm:w-auto",onClick:r[3]||(r[3]=x=>f.value=!1)},t(n("cancel")),1)])]),_:1})])])]),_:1})]),_:1},8,["show"])]),_:1})],64))}};export{ao as default};
