import{d,a,b as e,Q as D,r as k,y as I,j as l,u as c,Z as L,w as h,p as v,t as o,F as j,e as q,f as G,c as B,z as O,m as y,k as T,g as f,A as b,s as Y,h as w}from"./app-ifJRh6KD.js";import{r as E,a as C,S as K,Y as Q,G as J,V as P,_ as R,b as W}from"./AuthenticatedLayout-BSqnk0kP.js";import{r as X}from"./CheckCircleIcon-YUPfUU4_.js";import{r as ee,a as A}from"./PlusIcon-F1r9pOsT.js";import{r as te}from"./TrashIcon-BRJAYM6p.js";import"./ApplicationLogo-MxaaLDVg.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";function se(u,g){return a(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"})])}function oe(u,g){return a(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h1.5C5.496 19.5 6 18.996 6 18.375m-3.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-1.5A1.125 1.125 0 0 1 18 18.375M20.625 4.5H3.375m17.25 0c.621 0 1.125.504 1.125 1.125M20.625 4.5h-1.5C18.504 4.5 18 5.004 18 5.625m3.75 0v1.5c0 .621-.504 1.125-1.125 1.125M3.375 4.5c-.621 0-1.125.504-1.125 1.125M3.375 4.5h1.5C5.496 4.5 6 5.004 6 5.625m-3.75 0v1.5c0 .621.504 1.125 1.125 1.125m0 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m1.5-3.75C5.496 8.25 6 7.746 6 7.125v-1.5M4.875 8.25C5.496 8.25 6 8.754 6 9.375v1.5m0-5.25v5.25m0-5.25C6 5.004 6.504 4.5 7.125 4.5h9.75c.621 0 1.125.504 1.125 1.125m1.125 2.625h1.5m-1.5 0A1.125 1.125 0 0 1 18 7.125v-1.5m1.125 2.625c-.621 0-1.125.504-1.125 1.125v1.5m2.625-2.625c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125M18 5.625v5.25M7.125 12h9.75m-9.75 0A1.125 1.125 0 0 1 6 10.875M7.125 12C6.504 12 6 12.504 6 13.125m0-2.25C6 11.496 5.496 12 4.875 12M18 10.875c0 .621-.504 1.125-1.125 1.125M18 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m-12 5.25v-5.25m0 5.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125m-12 0v-1.5c0-.621-.504-1.125-1.125-1.125M18 18.375v-5.25m0 5.25v-1.5c0-.621.504-1.125 1.125-1.125M18 13.125v1.5c0 .621.504 1.125 1.125 1.125M18 13.125c0-.621.504-1.125 1.125-1.125M6 13.125v1.5c0 .621-.504 1.125-1.125 1.125M6 13.125C6 12.504 5.496 12 4.875 12m-1.5 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M19.125 12h1.5m0 0c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h1.5m14.25 0h1.5"})])}function re(u,g){return a(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"})])}function ie(u,g){return a(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})])}function ne(u,g){return a(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"})])}const ae={class:"flex items-center justify-between"},de={class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},le={class:"py-12"},ce={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},me={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},ue={class:"p-6"},ge={key:0,class:"mb-6 rounded-md bg-green-50 p-4"},he={class:"flex"},ve={class:"flex-shrink-0"},pe={class:"ml-3"},fe={class:"text-sm font-medium text-green-800"},xe={key:1,class:"mb-6 rounded-md bg-red-50 p-4"},_e={class:"flex"},ye={class:"flex-shrink-0"},be={class:"ml-3"},we={class:"text-sm font-medium text-red-800"},ke={key:2,class:"space-y-4"},Ce={class:"flex items-center space-x-4"},Me={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},$e={key:0,class:"ml-2 text-xs text-gray-500"},Ve={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},je={class:"mt-1 flex items-center space-x-4 text-xs text-gray-500 dark:text-gray-400"},Be={class:"flex items-center space-x-2"},Ae=["onClick"],Ne=["onClick"],Se={key:3,class:"text-center"},Fe={class:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100"},Ze={class:"mt-1 text-sm text-gray-500"},He={class:"mt-6 flex justify-center space-x-4"},Ue={class:"fixed inset-0 z-10 overflow-y-auto"},ze={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},De={class:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-indigo-100"},Ie={class:"mt-3 text-center sm:mt-5"},Le={class:"mt-6 space-y-4"},qe={for:"name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Ge={for:"color",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Oe={class:"mt-1 flex items-center space-x-3"},Te={for:"description",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Ye={key:0,class:"flex items-center"},Ee={for:"is_active",class:"ml-2 block text-sm text-gray-900 dark:text-gray-100"},Ke={class:"mt-5 sm:mt-6 sm:grid sm:grid-flow-row-dense sm:grid-cols-2 sm:gap-3"},Qe={type:"submit",class:"inline-flex w-full justify-center rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 sm:col-start-2"},st={__name:"Index",props:{categories:{type:Array,required:!0}},setup(u){const g=D(),r=s=>{var V;const n=((V=g.props.language)==null?void 0:V.messages)||{},t=s.split(".");let m=n;for(const z of t)if(m=m==null?void 0:m[z],m===void 0)break;return m||s.split(".").pop()},x=k(!1),p=k(!1),i=k({id:null,name:"",color:"#6B7280",description:"",is_active:!0}),N={home:W,"shopping-bag":ie,car:ne,film:oe,bolt:se,heart:re},M=s=>N[s]||null,S=s=>new Intl.NumberFormat("nb-NO",{style:"currency",currency:"NOK"}).format(s||0),_=()=>{x.value=!1,p.value=!1,$()},$=()=>{i.value={id:null,name:"",color:"#6B7280",description:"",is_active:!0}},F=s=>{i.value={id:s.id,name:s.name,color:s.color,description:s.description||"",is_active:s.is_active},x.value=!0},Z=()=>{i.value.id?w.patch(route("categories.update",i.value.id),i.value,{onSuccess:()=>_()}):w.post(route("categories.store"),i.value,{onSuccess:()=>_()})},H=s=>{confirm(r("delete_category_confirm"))&&w.delete(route("categories.destroy",s.id))},U=()=>{w.post(route("categories.defaults"))};return I(p,s=>{s&&($(),x.value=!0,p.value=!1)}),(s,n)=>(a(),d(j,null,[l(c(L),{title:r("categories")},null,8,["title"]),l(R,null,{header:h(()=>[e("div",ae,[e("h2",de,o(r("categories")),1),e("button",{onClick:n[0]||(n[0]=t=>p.value=!0),type:"button",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},[l(c(A),{class:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),y(" "+o(r("add_category")),1)])])]),default:h(()=>[e("div",le,[e("div",ce,[e("div",me,[e("div",ue,[s.$page.props.flash.success?(a(),d("div",ge,[e("div",he,[e("div",ve,[l(c(X),{class:"h-5 w-5 text-green-400","aria-hidden":"true"})]),e("div",pe,[e("p",fe,o(s.$page.props.flash.success),1)])])])):v("",!0),s.$page.props.flash.error?(a(),d("div",xe,[e("div",_e,[e("div",ye,[l(c(E),{class:"h-5 w-5 text-red-400","aria-hidden":"true"})]),e("div",be,[e("p",we,o(s.$page.props.flash.error),1)])])])):v("",!0),u.categories.length>0?(a(),d("div",ke,[(a(!0),d(j,null,q(u.categories,t=>(a(),d("div",{key:t.id,class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 flex items-center justify-between"},[e("div",Ce,[e("div",{class:"w-10 h-10 rounded-full flex items-center justify-center",style:G({backgroundColor:t.color})},[M(t.icon)?(a(),B(O(M(t.icon)),{key:0,class:"h-5 w-5 text-white"})):(a(),B(c(C),{key:1,class:"h-5 w-5 text-white"}))],4),e("div",null,[e("h3",Me,[y(o(t.name)+" ",1),t.is_active?v("",!0):(a(),d("span",$e,"("+o(r("inactive"))+")",1))]),t.description?(a(),d("p",Ve,o(t.description),1)):v("",!0),e("div",je,[e("span",null,o(t.receipt_count)+" "+o(r("receipts")),1),e("span",null,o(S(t.total_amount)),1)])])]),e("div",Be,[e("button",{onClick:m=>F(t),type:"button",class:"text-indigo-600 hover:text-indigo-900"},[l(c(ee),{class:"h-5 w-5"})],8,Ae),t.receipt_count===0?(a(),d("button",{key:0,onClick:m=>H(t),type:"button",class:"text-red-600 hover:text-red-900"},[l(c(te),{class:"h-5 w-5"})],8,Ne)):v("",!0)])]))),128))])):(a(),d("div",Se,[l(c(C),{class:"mx-auto h-12 w-12 text-gray-400"}),e("h3",Fe,o(r("no_categories")),1),e("p",Ze,o(r("no_categories_description")),1),e("div",He,[e("button",{onClick:n[1]||(n[1]=t=>p.value=!0),type:"button",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700"},[l(c(A),{class:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),y(" "+o(r("add_category")),1)]),e("button",{onClick:U,type:"button",class:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700"},o(r("create_default_categories")),1)])]))])])])]),l(c(K),{as:"template",show:x.value},{default:h(()=>[l(c(Q),{as:"div",class:"relative z-50",onClose:_},{default:h(()=>[n[7]||(n[7]=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)),e("div",Ue,[e("div",ze,[l(c(J),{class:"relative transform overflow-hidden rounded-lg bg-white dark:bg-gray-800 px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6"},{default:h(()=>[e("form",{onSubmit:T(Z,["prevent"])},[e("div",null,[e("div",De,[l(c(C),{class:"h-6 w-6 text-indigo-600","aria-hidden":"true"})]),e("div",Ie,[l(c(P),{as:"h3",class:"text-base font-semibold leading-6 text-gray-900 dark:text-gray-100"},{default:h(()=>[y(o(i.value.id?r("edit_category"):r("add_category")),1)]),_:1}),e("div",Le,[e("div",null,[e("label",qe,o(r("name")),1),f(e("input",{"onUpdate:modelValue":n[2]||(n[2]=t=>i.value.name=t),type:"text",id:"name",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[b,i.value.name]])]),e("div",null,[e("label",Ge,o(r("color")),1),e("div",Oe,[f(e("input",{"onUpdate:modelValue":n[3]||(n[3]=t=>i.value.color=t),type:"color",id:"color",class:"h-10 w-20 rounded-md border-gray-300 cursor-pointer"},null,512),[[b,i.value.color]]),f(e("input",{"onUpdate:modelValue":n[4]||(n[4]=t=>i.value.color=t),type:"text",pattern:"^#[0-9A-Fa-f]{6}$",placeholder:"#6B7280",class:"block flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[b,i.value.color]])])]),e("div",null,[e("label",Te,o(r("description")),1),f(e("textarea",{"onUpdate:modelValue":n[5]||(n[5]=t=>i.value.description=t),id:"description",rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[b,i.value.description]])]),i.value.id?(a(),d("div",Ye,[f(e("input",{"onUpdate:modelValue":n[6]||(n[6]=t=>i.value.is_active=t),type:"checkbox",id:"is_active",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[Y,i.value.is_active]]),e("label",Ee,o(r("active")),1)])):v("",!0)])])]),e("div",Ke,[e("button",Qe,o(i.value.id?r("save"):r("create")),1),e("button",{type:"button",class:"mt-3 inline-flex w-full justify-center rounded-md bg-white dark:bg-gray-800 px-3 py-2 text-sm font-semibold text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 sm:col-start-1 sm:mt-0",onClick:_},o(r("cancel")),1)])],32)]),_:1})])])]),_:1})]),_:1},8,["show"])]),_:1})],64))}};export{st as default};
