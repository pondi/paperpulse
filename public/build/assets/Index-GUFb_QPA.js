import{B as y,D as j,y as k,h as q,d as l,a as t,j as a,u as D,Z as F,w as g,b as i,c as _,p as w,F as b,e as x}from"./app-ifJRh6KD.js";import{_ as $}from"./AuthenticatedLayout-BSqnk0kP.js";import{_ as B}from"./JobStats.vue_vue_type_script_setup_true_lang-DFtr7wY7.js";import S from"./PulseDavStats-DquuUbBO.js";import{_ as N}from"./JobFilters.vue_vue_type_script_setup_true_lang-COtf4idc.js";import{_ as C}from"./JobCard.vue_vue_type_script_setup_true_lang-cDE9Hvw0.js";import{_ as P}from"./Pagination.vue_vue_type_script_setup_true_lang-BGqj-AWX.js";import"./ApplicationLogo-MxaaLDVg.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./CheckCircleIcon-YUPfUU4_.js";import"./ExclamationTriangleIcon-DITLAt3A.js";const V={class:"py-12 bg-gray-900"},J={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},U={key:0,class:"space-y-4"},E={key:1,class:"bg-gray-800 shadow-sm rounded-lg p-6 text-center text-gray-400 border border-gray-700"},R=y({__name:"Index",props:{jobs:{default:()=>[]},stats:{default:()=>({pending:0,processing:0,completed:0,failed:0})},pulseDavStats:{default:()=>({total:0,pending:0,processing:0,completed:0,failed:0})},recentPulseDavFiles:{default:()=>[]},queues:{default:()=>[]},filters:{default:()=>({status:"",queue:"",search:""})},pagination:{default:()=>({current_page:1,last_page:1,per_page:50,total:0})}},setup(h){var p,u,d,m;const r=h,s=j({status:((p=r.filters)==null?void 0:p.status)??"",queue:((u=r.filters)==null?void 0:u.queue)??"",search:((d=r.filters)==null?void 0:d.search)??"",page:((m=r.pagination)==null?void 0:m.current_page)??1}),v=e=>{Object.assign(s,e)};return k(s,e=>{q.get("/jobs",e,{preserveState:!0,preserveScroll:!0,replace:!0,only:["jobs","stats","pulseDavStats","recentPulseDavFiles","pagination"]})},{deep:!0}),(e,o)=>(t(),l(b,null,[a(D(F),{title:"Jobs"}),a($,null,{header:g(()=>o[1]||(o[1]=[i("h2",{class:"font-semibold text-xl text-white leading-tight"},"Jobs",-1)])),default:g(()=>{var f,c;return[i("div",V,[i("div",J,[a(B,{stats:e.stats},null,8,["stats"]),a(S,{stats:e.pulseDavStats,"recent-files":e.recentPulseDavFiles},null,8,["stats","recent-files"]),a(N,{form:s,queues:e.queues,"onUpdate:form":v},null,8,["form","queues"]),(f=e.jobs)!=null&&f.length?(t(),l("div",U,[(t(!0),l(b,null,x(e.jobs,n=>(t(),_(C,{key:n.id,job:n},null,8,["job"]))),128))])):(t(),l("div",E," No jobs found ")),((c=e.pagination)==null?void 0:c.last_page)>1?(t(),_(P,{key:2,page:s.page,"onUpdate:page":o[0]||(o[0]=n=>s.page=n),pagination:e.pagination},null,8,["page","pagination"])):w("",!0)])])]}),_:1})],64))}});export{R as default};
